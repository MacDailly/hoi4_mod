	################################ NOTE: Adjusted research years to historical values as much as possible. However game balance takes priority.
	################################ AI "will do factors" adjusted slighlty to priorize best tanks and change research focus as best as possible. 
	################################ AI research priorities: Improved plate Pz II / Pz IV A / PzIII (until 50L60)  / PzJg I TD / Pz IV (until 75L43) / Marder II / Wespe / Panther & Tiger / JagdPz IV / Hummel


technologies = {
	#Vertical position
	@1934 = -2
	@1935 = 0
	@1936 = 2
	@1937 = 4
	@1938 = 6
	@1939 = 8
	@1940 = 10
	@1941 = 12
	@1942 = 14
	@1942/2 = 15
	@1943 = 16
	@1944 = 18
	@1945 = 20
	@1946 = 22

	german_tech = {

		path = {
			leads_to_tech = tech_panzer_i_equipment_1
			research_cost_coeff = 1
		}

		allow = {
			always = no
		}
	
		research_cost = 1.2
		start_year = 1934
		folder = {
			name = german_pz_folder
			position = { x = 0 y = @1934 }
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	tech_czech_panzer = {
	
		allow = {
		    always = no
		}

		path = {
			leads_to_tech = tech_czech_panzer_1
			research_cost_coeff = 1
		}
	
		research_cost = 2
		start_year = 1935
		folder = {
			name = german_pz_folder
			position = { x = 8 y = @1935 }
		}
		
		ai_will_do = {
			factor = 0					# 0 Value means will be researched after Pz II. Beware: as of today AI does not gets this tank.
		}
	}
	tech_czech_panzer_1 = {
	
		allow = {
		     tag = GER
		     owns_state = 9
		}
	
		enable_equipments = {
			czech_panzer_equipment_1
		}

		path = {
			leads_to_tech = tech_czech_panzer_2
			research_cost_coeff = 1
		}
	
		research_cost = 2
		start_year = 1935
		folder = {
			name = german_pz_folder
			position = { x = 8 y = @1935 }
		}
		
		ai_will_do = {
			factor = 0					# 0 Value means will be researched after Pz II. Beware: as of today AI does not gets this tank.
		}
	}
	tech_czech_panzer_2 = {
	
		enable_equipments = {
			czech_panzer_equipment_2
		}

		path = {
			leads_to_tech = tech_czech_panzer_3
			research_cost_coeff = 1
		}
		
		sub_technologies = {				# Delayed to next version. Should be split between both models
			subtech_czech_panzer_td_1
		#	subtech_czech_panzer_td_2
		}
	
		research_cost = 1.2
		start_year = 1938					# 1937 Was 1939 in fact. But 1938 is fine
		folder = {
			name = german_pz_folder
			position = { x = 8 y = @1938 }	# 1937
		}
		
		ai_will_do = {
			factor = 0						# 0 Value means will be researched after Pz II. 
		}
	}
	
	tech_czech_panzer_3 = {
	
		enable_equipments = {
			czech_panzer_equipment_3
		}
		
		sub_technologies = {
			#subtech_czech_panzer_td_1
			subtech_czech_panzer_td_2				#Hetzer	
			subtech_czech_panzer_art_1				#Grille
			subtech_czech_panzer_spaa_1				#Flakpanzer 38(t)
		}
		
		research_cost = 1.2
		start_year = 1940
		folder = {
			name = german_pz_folder
			position = { x = 8 y = @1940 }
		}
		
		ai_will_do = {
			factor = 0					# 0 Best Light Armor for AI
		}
	}
	subtech_czech_panzer_td_1 = {		#Marder III

		enable_equipments = {
			czech_panzer_td_equipment_1
		}
		
		
		research_cost = 1.2			#later year as parent
		start_year = 1942
		
		ai_will_do = {
			factor = 0
		}

		dependencies = {
			german_tech = 1
		}

		categories = {
			armor
			cat_light_armor
		}
	}
	subtech_czech_panzer_td_2 = {		#Hetzer

		enable_equipments = {
			czech_panzer_td_equipment_2
		}
		
		
		research_cost = 1.2				#later year as parent
		start_year = 1944				
		
		ai_will_do = {
			factor = 0
		}

		dependencies = {
			german_tech = 1
		}

		categories = {
			armor
			cat_light_armor
		}
	}
	subtech_czech_panzer_art_1 = {		#Grille	

		enable_equipments = {
			czech_panzer_art_equipment_1
		}
		
		
		research_cost = 1.2				#later year as parent
		start_year = 1943
		
		ai_will_do = {
			factor = 0					# AI can not do CZ tanks
		}

		dependencies = {
			german_tech = 1
		}

		categories = {
			armor
			cat_light_armor
		}
	}	
	subtech_czech_panzer_spaa_1 = {		#Flakpanzer 38(t)

		enable_equipments = {
			czech_panzer_spaa_equipment_1
		}
		
		
		research_cost = 1.2				#later year as parent
		start_year = 1943
		
		ai_will_do = {
			factor = 0					# AI can not do CZ tanks
		}

		dependencies = {
			german_tech = 1
		}

		categories = {
			armor
			cat_light_armor
		}
	}	
	#Panzer I
	tech_panzer_i_equipment_1 = {
		
		enable_equipments = {
			panzer_i_equipment_1
		}
		
		
		path = {
			leads_to_tech = tech_panzer_ii_equipment_1
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_nbfz_equipment_1
			research_cost_coeff = 1
		}
		dependencies = {
			german_tech = 1
		}

		research_cost = 2
		start_year = 1934
		folder = {
			name = german_pz_folder
			position = { x = 0 y = @1934 }
		}
			
		sub_technologies = {
			subtech_panzer_i_td_equipment_1
			subtech_panzer_i_art_equipment_1
		    subtech_panzer_i_spaa_equipment_1
		}
		
		ai_will_do = {
			factor = 10				# Value not used as yet researched
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	
	#Panzerj√§ger I
	subtech_panzer_i_td_equipment_1 = {
		
		enable_equipments = {
			panzer_i_td_equipment_1
		}
		
		
		research_cost = 1.2
		start_year = 1940						# 1938
		
		ai_will_do = {						
			factor = 25							# changed from 0 to make AI get the OOB. Best TD AI available until 1942 *** w 15 after Stug III a w 10
		}
		
		on_research_complete = {
		hidden_effect = {
		load_oob = "GER_Panzer_Division_1940"	# This OOB now includes Light TDs Moved from Marder II because that one is 1941 and allowed only for Players
			    }
				custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}

		dependencies = {
			german_tech = 1
			# tech_czech_panzer = 1				# Should only be Available after annexation of Czechoslovakia. But AI can not deal with that. Assumed by 1939 Cz is annexed.
		}
		categories = {
			armor
			cat_light_armor
		}
	}
	
	# Sturmpanzer I Bison
	subtech_panzer_i_art_equipment_1 = {

		enable_equipments = {
			panzer_i_art_equipment_1
		}
		
		
		research_cost = 1.2				#later year as parent
		start_year = 1939					# 1938
		
		ai_will_do = {
			factor = 11						# First GER SPART for AI. COnsider adding an OOB  
		}
		
		on_research_complete = {
		hidden_effect = {
		load_oob = "GER_Panzer_Division_1939"	# This OOB should include Light SPArt
			    }
				custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}
		
		dependencies = {
			german_tech = 1
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	subtech_panzer_i_spaa_equipment_1 = {

		enable_equipments = {
			panzer_i_spaa_equipment_1
		}
	
		research_cost = 1.2			#later year as parent
		start_year = 1940
		
		ai_will_do = {
			factor = 0
		}
		
		dependencies = {
			german_tech = 1
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	## Panzer II tree ##
	#Panzer II A/B							# Includes A/B/C same tank
	tech_panzer_ii_equipment_1 = {
		
		enable_equipments = {
			panzer_ii_equipment_1
		}
		
		
		path = {
			leads_to_tech = tech_panzer_ii_equipment_2
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_panzer_iv_equipment_1
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_panzer_iii_equipment_1
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 2.5					#was 2, thinking of raising to 3 if Pz II numbers would be too high, lowering the stock of Pz I would be needed too.
		start_year = 1935
		folder = {
			name = german_pz_folder
			position = { x = -3 y = @1936 }	# 1936 -3 is position in the mid of all research tree (Pz II - III - IV) 
		}
		
		ai_will_do = {
			factor = 175					# 10. Absolutely priority to this tank as is prerequisite to all German tanks
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	# Pz II D								# C version was exactly same as A/B just different production runs
	tech_panzer_ii_equipment_2 = {
		
		enable_equipments = {
			panzer_ii_equipment_2
		}
		
		on_research_complete = {			
			hidden_effect = {
				if = {
					limit = {
						is_ai = no			# Better not give this to AI
					}
				load_oob = "GER_Leichte_Division"
				}
			}
			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}

		path = {
			leads_to_tech = tech_panzer_ii_equipment_3
			research_cost_coeff = 1
		}
		path = {														#moved from Pz II F 1941
			leads_to_tech = tech_panzer_ii_amph_equipment_1
			research_cost_coeff = 1
		}
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 1.2					# was 2, just a variant
		start_year = 1938					# 1936
		folder = {
			name = german_pz_folder
			position = { x = -6 y = @1938 }	# 1936 -3
		}
		sub_technologies = {
			subtech_panzer_ii_td_equipment_1
			subtech_panzer_ii_art_equipment_1
		}	
		ai_will_do = {
			factor = 8						# Now moved to previous Pz II. Should be researched AFTER IV A but B4 III A
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	
	#Marder II Sd.Kfz. 132 					# Was Sd Kfz 131 D/E based. Now correct model. Should be moved to previous parent. Pending next rework
	subtech_panzer_ii_td_equipment_1 = {

		enable_equipments = {
			panzer_ii_td_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 1.2					#subtech from different year then its parent
		start_year = 1941					# 1939. This tank should need captured Ru equipment. Option: Minsk Captured: then can be changed Research to 1941. 
		
		ai_will_do = {
			factor = 12						# 90 A good TD and Best pierce for 1941 but should only be available after Russian campaign...
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	#Sturmpanzer II Bison
	subtech_panzer_ii_art_equipment_1 = {

		enable_equipments = {
			panzer_ii_art_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 0.9					#should be 1.2 cause not the same year as parent, but it needs to be available in France without penalty
		start_year = 1940					# 1938
		
		ai_will_do = {
			factor = 9						# Second GER SPART for AI. COnsider adding an OOB  
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	
	# Pz II F								# D/E
	tech_panzer_ii_equipment_3 = {
		
		enable_equipments = {
			panzer_ii_equipment_3
		}

		path = {
			leads_to_tech = tech_panzer_ii_equipment_4
			research_cost_coeff = 1
		}
		
		
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 1.2					# was 2, just a variant
		start_year = 1941					# 1937	Should be 41
		folder = {
			name = german_pz_folder
			position = { x = -6 y = @1941 }	# 1937 -3
		}
		#sub_technologies = {				# Moved to previous Pz II
		#	subtech_panzer_ii_td_equipment_1
		#	subtech_panzer_ii_art_equipment_1
		#}		
		sub_technologies = {				# Moved from next Pz II
			subtech_panzer_ii_td_equipment_2
			subtech_panzer_ii_art_equipment_2
			#subtech_panzer_ii_flamm_equipment_1				#ahistorical SP.AA not needed, many other types available
		}
		ai_will_do = {
			factor = 6						# 10 Only Light Tank for German is Pz II. If value too high  AI will use 60% ahead of time on it.
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	
	#Marder II Sd.Kfz. 131 Panzer II C and F based		# Was Sd Kfz 132. Now correct model
	subtech_panzer_ii_td_equipment_2 = {

		enable_equipments = {
			panzer_ii_td_equipment_2
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2					#not the same year as parent
		start_year = 1942					#1940
		
		ai_will_do = {
			factor = 13						# Was 10. A very good and cheap TD
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	#Wespe
	subtech_panzer_ii_art_equipment_2 = {

		enable_equipments = {
			panzer_ii_art_equipment_2
		}
	
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 1.2					#not the same year as parent
		start_year = 1943					#1940
		
		ai_will_do = {
			factor = 11						# 8
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	subtech_panzer_ii_flamm_equipment_1 = {			# should be revised, no aaa but fort attack bonuses

		enable_equipments = {
			panzer_ii_flamm_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 0.9				#same year as parent
		start_year = 1941
		
		ai_will_do = {
			factor = 0

		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	
	#Pz II L Luchs							# F
	tech_panzer_ii_equipment_4 = {
		
		enable_equipments = {
			panzer_ii_equipment_4
		}

		path = {
			leads_to_tech = tech_panzer_ii_equipment_5
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 1.2				#just the variant
		start_year = 1943				# 1940   Should be 43
		folder = {
			name = german_pz_folder
			position = { x = -6 y = @1943 }	# 1940 -3
		}
		#sub_technologies = {
		#	subtech_panzer_ii_td_equipment_2
		#	subtech_panzer_ii_art_equipment_2
		#	subtech_panzer_ii_flamm_equipment_1
		#}				
		ai_will_do = {
			factor = 10	
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	
	# Pz II L Leopard						# Luchs
	tech_panzer_ii_equipment_5 = {
		
		enable_equipments = {
			panzer_ii_equipment_5
		}

		path = {
			leads_to_tech = tech_panzer_ii_equipment_6
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 2					#better gun/armor so little higher cost
		start_year = 1944					# 1942
		folder = {
			name = german_pz_folder
			position = { x = -6 y = @1944 }	# 1942 -3
		}
			
		ai_will_do = {
			factor = 10
		}
		
		categories = {
			armor
			cat_light_armor
		}
	}
	# Pz II L Leopard						# Cancelled. Too much Pz II variants even with Lepoard
	#tech_panzer_ii_equipment_6 = {
	#	
	#	enable_equipments = {
	#		panzer_ii_equipment_6
	#	}
	#
	#	dependencies = {
	#		german_tech = 1
	#	}
	#	
	#	research_cost = 1.8
	#	start_year = 1944
	#	folder = {
	#		name = german_pz_folder
	#		position = { x = -9 y = @1944 } 	# 1944 -3
	#	}
	#		
	#	ai_will_do = {
	#		factor = 8
	#	}
	#	
	#	categories = {
	#		armor
	#		cat_light_armor
	#	}
	#}
	
	tech_panzer_ii_amph_equipment_1 = {
		
		enable_equipments = {
			panzer_ii_amph_equipment_1
		}
		
		path = {
			leads_to_tech = tech_panzer_iii_amph_equipment_1
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2			#was 2, not the same year as parent
		start_year = 1939
		folder = {
			name = german_pz_folder
			position = { x = -9 y = @1939 }
		}
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_light_armor
			amp_armor
		}
	}
	
	tech_panzer_iii_amph_equipment_1 = {
		
		enable_equipments = {
			panzer_iii_amph_equipment_1
		}
		
		path = {
			leads_to_tech = tech_panzer_iii_amph_equipment_2
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
			tech_panzer_iii_equipment_2 = 1
		}

		research_cost = 2      # major improvement
		start_year = 1940
		folder = {
			name = german_pz_folder
			position = { x = -9 y = @1941 }
		}
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_light_armor
			amp_armor
		}
	}
	
	tech_panzer_iii_amph_equipment_2 = {
		
		enable_equipments = {
			panzer_iii_amph_equipment_2
		}
		

		
		dependencies = {
			german_tech = 1
			tech_panzer_iii_equipment_4 = 1
		}

		research_cost = 1.2			# just a variant				
		start_year = 1943
		folder = {
			name = german_pz_folder
			position = { x = -9 y = @1943 }	
		}
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_light_armor
			amp_armor
		}
	}
	
	## PANZER-III Tech tree##				# NOTE: Only 3 Stug III AG types and 2 stug III TD types are historical. Correct line should mix AG with TD. But as AG is the starting point... I stick to it. 
	# Panzer III A							# Includes all variants with 15mm plate. 70 produced 
	tech_panzer_iii_equipment_1 = {

		enable_equipments = {
			panzer_iii_equipment_1
		}	

		path = {
			leads_to_tech = tech_panzer_iii_equipment_2
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 3					# was 2. 3 is to delay it significantly (will lower following variants cost to compensate), still moving to 38 would be best
		start_year = 1937					# 1936
		folder = {
			name = german_pz_folder
			position = { x = -3 y = @1937 }	# 1936
		}
		
		ai_will_do = {
			factor = 4						# Pz III with the 50mm is the objective... This is going to be best battle tank until 1942.
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}

	#Panzer III E							# Includes F. Around 550 built but less than 100 before poland
	tech_panzer_iii_equipment_2 = {

		enable_equipments = {
			panzer_iii_equipment_2
		}

		path = {
			leads_to_tech = tech_panzer_iii_equipment_3
			research_cost_coeff = 1
		}
		
		path = {							#NOTE: This leads to the 1st slot of the STUG main line (AG)
			leads_to_tech = tech_panzer_iii_ag_equipment_1
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2					#variant
		start_year = 1938
		folder = {
			name = german_pz_folder
			position = { x = -3 y = @1938 }
		}
		
		ai_will_do = {
			factor = 3						# 10
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}

	# Panzer III H 							# Includes G and Early J
	tech_panzer_iii_equipment_3 = {

		enable_equipments = {
			panzer_iii_equipment_3
		}	

		path = {
			leads_to_tech = tech_panzer_iii_equipment_4
			research_cost_coeff = 1
		}
		
		path = {							#NOTE: This must lead to the 2nd slot of the STUG main line
			leads_to_tech = tech_panzer_iii_td_equipment_1
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 2					#upgunned 37 to 50
		start_year = 1940
		folder = {
			name = german_pz_folder
			position = { x = -3 y = @1940 }
		}
		
		ai_will_do = {
			factor = 25					# 10			***
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}

	tech_panzer_iii_ag_equipment_1 = { 		# Stug A

		enable_equipments = {
			panzer_iii_ag_equipment_1
		}
		
		dependencies = {
			german_tech = 1
		}
		
		path = {
			leads_to_tech = tech_panzer_iii_td_equipment_1
			research_cost_coeff = 0.5		# 0.5 ?
		}
		
		research_cost = 1.2					# later year then parent
		start_year = 1940					# 1939 
		folder = {
			name = german_pz_folder
			position = { x = 0 y = @1940 } 	# -9
		}
		
		ai_will_do = {
			factor = 5						# *** with 10 before PzJg I with 15
		}
		
		categories = {
			armor
			cat_stug
			cat_medium_armor
		}
	}
	
	# Panzer III J 							# Late J with improved gun
	tech_panzer_iii_equipment_4 = {

		enable_equipments = {
			panzer_iii_equipment_4
		}
		
		path = {
			leads_to_tech = tech_panzer_iii_equipment_5
			research_cost_coeff = 1
		}
		
		
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 1.2					# variant decreased to Pz III A higher cost
		start_year = 1941					# 1942 Inferior tank compared to Pz IV G. Was built several months earlier
		folder = {
			name = german_pz_folder
			position = { x = -3 y = @1941 }	# 1942
		}
		
		ai_will_do = {
			factor = 18						# In theory German AI should research this until this Pz III variant then go for Pz IV / Panther / Tigers
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}
	
	#Subtechs
    subtech_panzer_iii_ag_equipment_2 = {		#StuiG 33
		enable_equipments = {
			panzer_iii_ag_equipment_2
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 0.9    #same year as parent StuG III F
		start_year = 1942
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_stug
		}
	}
	
	tech_panzer_iii_td_equipment_1 = { 		#  This tank is now a correct TD (Stug III F with the 75L43)

		enable_equipments = {
			panzer_iii_td_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}
		
		path = {
			leads_to_tech = tech_panzer_iii_td_equipment_2
			research_cost_coeff = 0.5		# 0.5 ?
		}

		research_cost = 1.2							# Was 1.7 dunno why not 1.5...
		start_year = 1942							# 1940
		
		folder = {
			name = german_pz_folder
			position = { x = 0 y = @1942 }			# -9 1940
		}
		
		on_research_complete = {					# CHANGED FROM TIGER. This is first Panzer upgrade. Upgrades several SS and Regular Wehrmacht divisions
		
		    limit = {
				is_ai = yes
			}
			
			hidden_effect = {
				load_oob = "GER_Pz_Grandier_Division_1941"
			}
			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}
		
		sub_technologies = {
			subtech_panzer_iii_ag_equipment_2			# This tank is now a StuiG 33.
		}
		
		ai_will_do = {
			factor = 10
		}
		
		categories = {
			armor
			cat_medium_armor
			cat_stug
			
		}
	}
	
	tech_panzer_iii_td_equipment_2 = { 			# This tank is now a StuG III G 

		enable_equipments = {
			panzer_iii_td_equipment_2
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2						#later  year then parent III M
		start_year = 1943						# 1942
		folder = {
			name = german_pz_folder
			position = { x = 0 y = @1943 }		# -9 1942
		}
		
		sub_technologies = {
			subtech_panzer_iii_ag_equipment_3			#StuH 42 Stats yet changed. Just Needs change GFX. # Was a Stug E, but again, ingame terms this is same tank as A
		#   subtech_panzer_iii_art_equipment_2			# This tank is now the 3rd AG. No Stug SPART did exist
		#	subtech_panzer_iii_flamm_equipment_1		# removed not needed since Flakpanzer 38 added, ahistorical and no gfx either
		}
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_medium_armor
			cat_stug
		}
	}
	
	#subtech_panzer_iii_art_equipment_1 = {		# This was an AG not an ART. Now correct stats in proper 2nd AG slot
	#
	#	enable_equipments = {
	#		panzer_iii_art_equipment_1
	#	}
	#
	#	dependencies = {
	#		german_tech = 1
	#	}
	#
	#	research_cost = 1.1
	#	start_year = 1942
	#	
	#	ai_will_do = {
	#		factor = 0
	#	}
	#	
	subtech_panzer_iii_flamm_equipment_0 = {		#not available now CHECK IF AA PROPERLY OK

		enable_equipments = {
			panzer_iii_flamm_equipment_0
		}
	
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 0.9
		start_year = 1942
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	# Panzer III M #
	tech_panzer_iii_equipment_5 = {

		enable_equipments = {
			panzer_iii_equipment_5
		}
		
		path = {
			leads_to_tech = tech_panzer_iii_equipment_6
			research_cost_coeff = 1
		}
		path = {											#NOTE: This must lead to the 3rd slot of the STUG main line (TD)
			leads_to_tech = tech_panzer_iii_td_equipment_2
			research_cost_coeff = 1
		}
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2					#variant
		start_year = 1942
		folder = {
			name = german_pz_folder
			position = { x = -3 y = @1942 }
		}
		
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}
	#Subtechs 									#StuH 42
	subtech_panzer_iii_ag_equipment_3 = {

		enable_equipments = {
			panzer_iii_ag_equipment_3
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 0.9			#same year as parent StuG III G
		start_year = 1943
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}
												
	#subtech_panzer_iii_art_equipment_2 = {	# This was an AG not an ART.  Now correct stats in proper 3rd AG slot
	#
	#	enable_equipments = {	
	#		panzer_iii_art_equipment_2
	#	}
	#
	#	dependencies = {
	#		german_tech = 1
	#	}
	#
	#	research_cost = 1.1
	#	start_year = 1943
	#	
	#	ai_will_do = {
	#		factor = 0
	subtech_panzer_iii_flamm_equipment_1 = {				#not available now CHECK IF AA WORKS

		enable_equipments = {
			panzer_iii_flamm_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 1.1
		start_year = 1943
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	# Panzer III N #
	tech_panzer_iii_equipment_6 = {

		enable_equipments = {
			panzer_iii_equipment_6
		}
		
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 1.2					# just a variant
		start_year = 1943					# 1943
		folder = {
			name = german_pz_folder
			position = { x = -3 y = @1943 }	# 1943
		}
		
		ai_will_do = {
			factor = 0						# 10.  AI should not do it. 
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}
	##PANZER-IV-TECH##
	# Panzer IV A							# Early prototypes with 15mm plate
	tech_panzer_iv_equipment_1 = {

		enable_equipments = {
			panzer_iv_equipment_1
		}
		
		
		on_research_complete = {
			
			hidden_effect = {
				load_oob = "GER_Panzer_Division_1936"	# 7L+1M+3I
			}

			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}	

		path = {
			leads_to_tech = tech_panzer_iv_equipment_2
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 3					#was 2, works as delay of production... IMPORTANT CHANGE
		start_year = 1937					# 1936
		folder = {
			name = german_pz_folder
			position = { x = 3 y = @1937 }	# 1936
		}
				
		ai_will_do = {
			factor = 20						# Was 0. Value means will be researched 1st priority to get medium template. Now GER AI should focus on Pz IVs after Pz IIIs dead end 
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}
	# Panzer IV C							# Was E. Includes B/C/D. 30 mm plate
	tech_panzer_iv_equipment_2 = {

		enable_equipments = {
			panzer_iv_equipment_2
		}

		on_research_complete = {
			
			hidden_effect = {
				load_oob = "GER_Panzer_Division_1937"	# 7L+1M+4I
			}

			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}	
		
		path = {
			leads_to_tech = tech_panzer_iv_equipment_3
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2					#was 2; variant
		start_year = 1938					# 1939
		folder = {
			name = german_pz_folder
			position = { x = 3 y = @1938 }	# 1939
		}
		
		ai_will_do = {
			factor = 10						# should be researched b4 III D/E to help AI build some IVs
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}
	# Panzer IV E							# Was F. Plate 50mm
	tech_panzer_iv_equipment_3 = {

		enable_equipments = {
			panzer_iv_equipment_3
		}	

		path = {
			leads_to_tech = tech_panzer_iv_equipment_4
			research_cost_coeff = 1
		}
		
		
		dependencies = {
			german_tech = 1
		}
		
		sub_technologies = {
			subtech_panzer_iv_td_equipment_1		#Nashorn
			subtech_panzer_iv_art_equipment_1		#now Dickermax
			subtech_panzer_iv_spaa_equipment_1		# AA 20mm
		}
		
		research_cost = 1.2					# Watch this, important to Tiger I too. 
		start_year = 1940
		folder = {
			name = german_pz_folder
			position = { x = 3 y = @1940 }
		}
		
		ai_will_do = {
			factor = 5						# Tiger !
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}
	#Subtechs								#was StuG IV...now Nashorn
	subtech_panzer_iv_td_equipment_1 = {

		enable_equipments = {
			panzer_iv_td_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2					#later year
		start_year = 1943
		
		ai_will_do = {
			factor = 13						# NOTE: 1st opportunity to get Medium TD for AI
		}
		
		categories = {
			armor
			cat_medium_armor
			cat_stug
		}
	}
	
	subtech_panzer_iv_art_equipment_1 = {		#now dickermax

		enable_equipments = {
			panzer_iv_art_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2					#later year
		start_year = 1942
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 0								# Locked: NOTE: 1st opportunity to get AG for AI. 
		}
	}
	
	subtech_panzer_iv_spaa_equipment_1 = {			#Wirbelwind

		enable_equipments = {
			panzer_iv_spaa_equipment_1
		}

		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2					#later year
		start_year = 1943
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
		}
	}
	# Panzer IV G
	tech_panzer_iv_equipment_4 = {

		enable_equipments = {
			panzer_iv_equipment_4
		}
		
		path = {
			leads_to_tech = tech_panzer_iv_equipment_5
			research_cost_coeff = 1
		}
		path = {								# NOTE: Now this tank is prerequisite for  Panther. 
			leads_to_tech = tech_panzer_v_equipment_1
			research_cost_coeff = 1
		}
		path = {								#Tiger
			leads_to_tech = tech_panzer_vi_equipment_1
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 2.5						#longerbarrel, also leads to Panther, expected early 42 (F2 occured)
		start_year = 1942
		folder = {
			name = german_pz_folder
			position = { x = 3 y = @1942 }
		}
		
		sub_technologies = {
			subtech_panzer_iv_td_equipment_2		#now Jagdpanzer IV
			subtech_panzer_iv_ag_equipment_1		#Sturmpanzer
			subtech_panzer_iv_spaa_equipment_2		#AA 37mm
		}
		
		ai_will_do = {
			factor = 18						# Value very high to priorize AI 60% bonus versus Pz II
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}

	subtech_panzer_iv_td_equipment_2 = {		#now Jagdpanzer IV

		enable_equipments = {
			panzer_iv_td_equipment_2
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2				#later year as parent
		start_year = 1944
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_medium_armor
			cat_stug
		}
	}
	subtech_panzer_iv_ag_equipment_1 = {		# now Sturmpanzer

		enable_equipments = {
			panzer_iv_ag_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2			#later year as parent
		start_year = 1943
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 11							# NOTE: 1st opportunity to get MediumSPArt for AI
		}
	}
	subtech_panzer_iv_spaa_equipment_2 = {		#Ostwind

		enable_equipments = {
			panzer_iv_spaa_equipment_2
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2			#later year then parent, no need to speed up, also wirbelwind is available from 43 for gaming reasons
		start_year = 1944			#was 1943
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}
	# Panzer IV H
	tech_panzer_iv_equipment_5 = {

		enable_equipments = {
			panzer_iv_equipment_5
		}
		
		path = {
			leads_to_tech = tech_panzer_iv_equipment_6
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 1.2					#variant
		start_year = 1943
		folder = {
			name = german_pz_folder
			position = { x = 3 y = @1943 }
		}
		
		sub_technologies = {
			subtech_panzer_iv_td_equipment_3		#StuG IV 
			subtech_panzer_iv_art_equipment_2		#Hummel
			subtech_panzer_iv_spaa_equipment_3		# AA 30mm
		}
		
		ai_will_do = {
			factor = 9
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}

	subtech_panzer_iv_td_equipment_3 = {		# now Stug IV

		enable_equipments = {
			panzer_iv_td_equipment_3
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2			#later year as parent
		start_year = 1944
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	subtech_panzer_iv_art_equipment_2 = {			#now Hummel

		enable_equipments = {
			panzer_iv_art_equipment_2
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 0.9		#same year as parent
		start_year = 1943
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	subtech_panzer_iv_spaa_equipment_3 = {

		enable_equipments = {
			panzer_iv_spaa_equipment_3
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2				#later year then parent
		start_year = 1945				#was 1944
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	# Panzer IV J
	tech_panzer_iv_equipment_6 = {

		enable_equipments = {
			panzer_iv_equipment_6
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2				#variant
		start_year = 1944
		folder = {
			name = german_pz_folder
			position = { x = 3 y = @1944 }
		}
		
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}


	##PANTHER##
	# Panther D
	tech_panzer_v_equipment_1 = {

		enable_equipments = {
			panzer_v_equipment_1
		}
		
		
		on_research_complete = {
			limit = {
				#NOT = {	has_template_containing_unit = panzer_v }
			}
			hidden_effect = {
				if = {
					limit = {
						has_tech = tech_panzer_iv_equipment_4
						has_tech =	mechanised_infantry
					}

					load_oob = "GER_Panzer_DivisionVII"
				}
				if = {
					limit = {
						NOT = { has_tech = mechanised_infantry }
					}

					load_oob = "GER_Panzer_DivisionVIIb"
				}
				
			}

			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}	

		path = {
			leads_to_tech = tech_panzer_v_equipment_2
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 2.1				#can be changed after test
		start_year = 1943
		folder = {
			name = german_pz_folder
			position = { x = 6 y = @1942/2 }
		}
				
		ai_will_do = {
			factor = 20
		}
		
		categories = {
			armor
			cat_medium_armor
			cat_panther
		}
	}
	# Panther G
	tech_panzer_v_equipment_2 = {

		enable_equipments = {
			panzer_v_equipment_2
		}
		
		path = {
			leads_to_tech = tech_panzer_e_equipment_1
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2			#variant
		start_year = 1944
		folder = {
			name = german_pz_folder
			position = { x = 6 y = @1944 }
		}

		sub_technologies = {
			subtech_panzer_v_td_equipment_1				#jagdpanther
			subtech_panzer_v_art_equipment_1			#GW Panther Medium SP.Art
			subtech_panzer_v_spaa_equipment_1			#coelian
		}	
		
		ai_will_do = {
			factor = 20
		}
		
		categories = {
			armor
			cat_medium_armor
			cat_panther
		}
	}
	subtech_panzer_v_td_equipment_1 = {

		enable_equipments = {
			panzer_v_td_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 0.9				#same year as parent
		start_year = 1944
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 20
		}
	}
	subtech_panzer_v_art_equipment_1 = {		#GW Panther Medium SP.Art

		enable_equipments = {
			panzer_v_art_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2				#later year then parent
		start_year = 1945
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	subtech_panzer_v_spaa_equipment_1 = {			#coelian

		enable_equipments = {
			panzer_v_spaa_equipment_1
		}

		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2				#later year then parent
		start_year = 1945							#was 44
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	tech_panzer_e_equipment_1 = {

		enable_equipments = {
			panzer_e_equipment_1
		}
		
		
		dependencies = {
			german_tech = 1
		}
		
		sub_technologies = {
			subtech_panzer_e_td_equipment_1
		}

		research_cost = 2			#technological leap, not variant
		start_year = 1946
		folder = {
			name = german_pz_folder
			position = { x = 6 y = @1946 }
		}

		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_medium_armor
		}
	}
	subtech_panzer_e_td_equipment_1 = {

		enable_equipments = {
			panzer_e_td_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 0.9			#same year as parent
		start_year = 1946
		
		categories = {
			armor
			cat_medium_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	##Heavy Armor tech tree##
	# NBFZ V/VI#
	tech_nbfz_equipment_1 = {

		enable_equipments = {
			nbfz_equipment_1
		}
		
		
		#path = {					# First update for test
		#	leads_to_tech = tech_panzer_vi_equipment_1
		#	research_cost_coeff = 1
		#}
		
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 2
		start_year = 1935
		folder = {
			name = german_pz_folder
			position = { x = 6 y = @1935 }
		}
		
		ai_will_do = {
			factor = 10
		}
		
		categories = {
			armor
			cat_heavy_armor
		}
	}
	# Panzer VI Tiger
	tech_panzer_vi_equipment_1 = {

		enable_equipments = {
			panzer_vi_equipment_1
		}
		
		
		path = {
			leads_to_tech = tech_panzer_vi_equipment_2
			research_cost_coeff = 1
		}

		
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.4								#new branch, needs to be watched together with Pz IV G to have it on time
		start_year = 1942
		folder = {
			name = german_pz_folder
			position = { x = 9 y = @1942 }
		}
		
		sub_technologies = {
		    subtech_panzer_vi_td_equipment_1			#Elefant
			#subtech_panzer_vi_art_equipment_1			#Flusspferd, removed for now, maybe will be added later
			subtech_panzer_vi_ag_equipment_1			#Sturmtiger
		}
		
		ai_will_do = {
			factor = 20
		}
		
		categories = {
			armor
			cat_heavy_armor
		}
	}
	subtech_panzer_vi_td_equipment_1 = {			#Elefant

		enable_equipments = {
			panzer_vi_td_equipment_1
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2				# year later then parent
		start_year = 1943
		
		categories = {
			armor
			cat_heavy_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	subtech_panzer_vi_art_equipment_1 = {		#disabled now
		enable_equipments = {
			panzer_vi_art_equipment_1
		}

		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2				#later year then parent
		start_year = 1943
		
		categories = {
			armor
			cat_heavy_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	subtech_panzer_vi_ag_equipment_1 = {		#Sturmtiger
		enable_equipments = {
			panzer_vi_ag_equipment_1
		}

		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2			#later year then parent
		start_year = 1944
		
		categories = {
			armor
			cat_heavy_armor
			cat_stug
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	# Panzer VI Tiger II
	tech_panzer_vi_equipment_2 = {

		enable_equipments = {
			panzer_vi_equipment_2
		}
		path = {
			leads_to_tech = tech_panzer_vii_equipment_1
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = tech_panzer_vii_equipment_2
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = tech_panzer_vi_equipment_3
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 2.5			#major improvement
		start_year = 1943
		folder = {
			name = german_pz_folder
			position = { x = 9 y = @1943 }
		}
		
		sub_technologies = {
			subtech_panzer_vi_td_equipment_2				#jagdtiger
			#subtech_panzer_vi_art_equipment_2				# mammut,  removed for now, maybe added later
			#subtech_panzer_vi_ag_equipment_2				#disabled no sturmtiger ii existed
		}
		
		ai_will_do = {
			factor = 10
		}
		
		categories = {
			armor
			cat_heavy_armor
		}
	}
	subtech_panzer_vi_ag_equipment_2 = {

		enable_equipments = {
			panzer_vi_ag_equipment_2
		}
	

		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2
		start_year = 1944
		
		categories = {
			armor
			cat_heavy_armor
			cat_stug
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	subtech_panzer_vi_art_equipment_2 = {

		enable_equipments = {
			panzer_vi_art_equipment_2
		}
	

		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2
		start_year = 1945
		
		categories = {
			armor
			cat_heavy_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	subtech_panzer_vi_td_equipment_2 = {		#jagdtiger

		enable_equipments = {
			panzer_vi_td_equipment_2
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2				#later year then parent
		start_year = 1944
		
		categories = {
			armor
			cat_heavy_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	tech_panzer_vi_equipment_3 = {

		enable_equipments = {
			panzer_vi_equipment_3
		}

		
		dependencies = {
			german_tech = 1
		}
		
		research_cost = 2.5				#major improvement....want to change this to E-75
		start_year = 1945
		folder = {
			name = german_pz_folder
			position = { x = 9 y = @1945 }
		}
		
		sub_technologies = {
			subtech_panzer_vi_td_equipment_3
			subtech_panzer_vi_art_equipment_3
		}
		
		ai_will_do = {
			factor = 10
		}
		
		categories = {
			armor
			cat_heavy_armor
		}
	}
	subtech_panzer_vi_art_equipment_3 = {

		enable_equipments = {
			panzer_vi_art_equipment_3
		}
	

		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2
		start_year = 1947
		
		categories = {
			armor
			cat_heavy_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	subtech_panzer_vi_td_equipment_3 = {

		enable_equipments = {
			panzer_vi_td_equipment_3
		}
	
		dependencies = {
			german_tech = 1
		}

		research_cost = 1.2
		start_year = 1946
		
		categories = {
			armor
			cat_heavy_armor
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	##SuperHeavies##
	# Lowe
	tech_panzer_vii_equipment_1 = {

		enable_equipments = {
			panzer_vii_equipment_1
		}
		
		
		path = {
			leads_to_tech = tech_panzer_vii_equipment_2
			research_cost_coeff = 1
		}
		
		dependencies = {
			german_tech = 1
		}

		research_cost = 2.5						#new branch
		start_year = 1943
		folder = {
			name = german_pz_folder
			position = { x = 12 y = @1943 }		# 1942
		}
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_heavy_armor
		}
	}
	# Mause
	tech_panzer_vii_equipment_2 = {

		enable_equipments = {
			panzer_vii_equipment_2
		}

		dependencies = {
			german_tech = 1
		}

		research_cost = 2.5				#can be researched after Tiger II 1943, 44/45 available if possible
		start_year = 1945
		folder = {
			name = german_pz_folder
			position = { x = 12 y = @1945}		# 1944
		}
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			armor
			cat_heavy_armor
		}
	}
}
#EOF#
